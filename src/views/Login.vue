<template>
  <div calss="container">
    <div class="head">
      <svg
        t="1658634751935"
        class="icon"
        viewBox="0 0 1024 1024"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        p-id="1951"
        width="90"
        height="90"
      >
        <path
          d="M512 0c282.772 0 512 229.228 512 512S794.772 1024 512 1024 0 794.772 0 512 229.228 0 512 0z"
          fill="#FCD077"
          p-id="1952"
        ></path>
        <path
          d="M120.472 524.008l0.014 9.676c0.05 24.56 1.91 29.952 5.354 44.598l0.262-0.032c29.49 172.842 172.342 306.994 349.342 323.234l1.48 0.138c2.332 0.192 4.682 0.39 7.028 0.56l3.116 0.198c1.996 0.138 3.99 0.238 6.006 0.342 1.292 0.06 2.598 0.078 3.894 0.152 1.8 0.044 3.578 0.128 5.378 0.184 2.074 0.036 4.154 0.054 6.234 0.068 1.008 0.022 2.044 0.04 3.05 0.04l0.454-0.01c2.938 0 5.878-0.046 8.786-0.1l1.398-0.028c2.772-0.092 5.52-0.192 8.264-0.326l2.342-0.1c2.442-0.146 4.898-0.304 7.326-0.478l3.446-0.27c1.598-0.138 3.17-0.276 4.754-0.426 175.456-16.36 317.27-148.57 348.146-319.41 3.752-14.664 3.794-19.236 5.68-42.478h0.018l0.422-0.014h0.014c0.056-1.484 0.088-2.922 0.114-4.384V533.432h0.006v-0.752c2.46-29.164-1.342-77.084-11.238-114.16l-0.518-1.988C848.432 246.658 694.732 120.84 511.632 120.84c-187.524 0-344.21 131.994-382.296 308.138h-0.01l-0.114 0.398-0.634 2.388-0.39 1.448-0.692 2.574c-4.828 19.964-6.358 43.778-6.816 64.6a362.384 362.384 0 0 0-0.196 11.622v0.742c-0.012 3.96-0.012 7.72-0.012 11.258z"
          fill="#FCD585"
          p-id="1953"
        ></path>
        <path
          d="M271.796 519.366l0.01 5.936c0.032 15.068 1.174 18.376 3.286 27.358l0.156-0.018c18.096 106.042 105.734 188.34 214.328 198.308l0.908 0.082c1.434 0.12 2.872 0.238 4.31 0.344l1.916 0.118c1.228 0.088 2.45 0.152 3.684 0.21 0.792 0.036 1.59 0.05 2.392 0.092 1.104 0.032 2.194 0.084 3.298 0.114 1.272 0.024 2.546 0.032 3.824 0.042 0.618 0.014 1.25 0.022 1.868 0.022h0.28c1.8 0 3.606-0.032 5.388-0.064l0.866-0.018c1.694-0.054 3.382-0.118 5.068-0.196l1.434-0.064c1.498-0.088 3.006-0.184 4.494-0.288l2.116-0.164c0.98-0.088 1.942-0.17 2.918-0.266 107.64-10.038 194.642-91.144 213.586-195.962 2.304-8.992 2.332-11.802 3.486-26.058h0.014l0.262-0.01h0.004c0.032-0.902 0.05-1.792 0.068-2.69v-1.048h0.006v-0.46c1.506-17.888-0.826-47.286-6.896-70.038l-0.32-1.214c-26.14-104.224-120.44-181.412-232.772-181.412-115.05 0-211.176 80.978-234.542 189.044h-0.004c-0.028 0.082-0.05 0.164-0.074 0.246l-0.384 1.462-0.238 0.888-0.426 1.582c-2.96 12.25-3.898 26.856-4.182 39.628-0.074 2.372-0.12 4.75-0.12 7.132v0.458c-0.012 2.428-0.012 4.738-0.012 6.904z"
          fill="#FFF7C3"
          p-id="1954"
        ></path>
        <path
          d="M14.706 553.428s73.652-63.29 126.556-69.478c52.904-6.194 158.73 59.298 203 62.836 44.274 3.546 170.614-111.512 220.274-92.046 49.67 19.476 164.132 75.228 227.838 84.968 63.702 9.736 159.808-97.356 205.158-109.748a235.262 235.262 0 0 1 19.162-4.394A514.822 514.822 0 0 1 1024 512c0 23.636-1.64 46.884-4.738 69.666-225.164 36.578-750.174 102.95-865.04 62.484-117.856-41.52-139.516-90.722-139.516-90.722z"
          fill="#FFA526"
          p-id="1955"
        ></path>
        <path
          d="M1.632 552.96c33.68-16.982 95.73-30.768 139.686-4.77 43.788 25.888 52.03 28.152 80.424 22.082 132.548-74.198 200.9-49.916 263.496 16.776 10.84 8.286 23.152 14.77 36.402 19.854 13.254-5.084 25.568-11.568 36.402-19.854 62.602-66.694 130.954-90.974 263.504-16.776 28.394 6.07 36.636 3.806 80.414-22.082 36.724-21.716 86.068-15.678 120.954-3.198a510.848 510.848 0 0 1-16.57 100.65H17.656A510.37 510.37 0 0 1 1.632 552.96z"
          fill="#F98B00"
          p-id="1956"
        ></path>
        <path
          d="M17.656 645.644h988.686C947.562 863.602 748.528 1024 512 1024S76.438 863.602 17.656 645.644z"
          fill="#FFDD95"
          p-id="1957"
        ></path>
        <path
          d="M152.946 307.116c9.474 0 18.412 1.856 26.324 5.146 8.558-6.918 20.29-11.182 33.228-11.182 22.402 0 41.186 12.796 46.21 30.006 11.196 2.782 20.18 9.758 24.28 18.71a42.53 42.53 0 0 1 4.092-0.184c20.692 0 37.488 13.852 37.488 30.942s-16.796 30.934-37.488 30.934c-6.45 0-12.52-1.346-17.816-3.712-4.55 12.86-18.938 22.246-35.996 22.246-10.414 0-19.832-3.504-26.63-9.172-6.794 5.668-16.222 9.172-26.64 9.172-9.894 0-18.906-3.17-25.614-8.342-6.844 6.184-16.698 10.06-27.66 10.06-10.262 0-19.554-3.386-26.306-8.898a53.452 53.452 0 0 1-9.62 0.862c-24.674 0-44.664-16.502-44.664-36.852 0-20.36 19.988-36.856 44.664-36.856 1.338 0 2.678 0.05 3.99 0.156 3.164-24.2 27.994-43.036 58.158-43.036zM774.862 377.234c3.624 0 7.036 0.706 10.064 1.966 3.27-2.644 7.76-4.274 12.702-4.274 8.562 0 15.746 4.89 17.67 11.472 4.28 1.064 7.71 3.728 9.282 7.152 0.514-0.046 1.036-0.068 1.566-0.068 7.908 0 14.33 5.296 14.33 11.828s-6.422 11.828-14.33 11.828a16.716 16.716 0 0 1-6.816-1.42c-1.736 4.916-7.242 8.508-13.758 8.508-3.986 0-7.586-1.342-10.184-3.504-2.602 2.162-6.204 3.504-10.184 3.504-3.784 0-7.23-1.214-9.79-3.194-2.62 2.364-6.392 3.848-10.578 3.848-3.926 0-7.478-1.296-10.06-3.402-1.182 0.218-2.418 0.334-3.674 0.334-9.434 0-17.08-6.312-17.08-14.096 0-7.78 7.646-14.088 17.08-14.088 0.514 0 1.02 0.018 1.524 0.06 1.212-9.254 10.706-16.454 22.236-16.454zM594.146 83.168c5.836 0 11.348 1.146 16.222 3.174 5.274-4.264 12.498-6.894 20.474-6.894 13.802 0 25.38 7.884 28.472 18.494 6.9 1.71 12.438 6.01 14.962 11.522 0.83-0.074 1.668-0.11 2.524-0.11 12.744 0 23.094 8.534 23.094 19.068 0 10.528-10.35 19.058-23.094 19.058-3.98 0-7.718-0.824-10.98-2.282-2.804 7.922-11.674 13.702-22.184 13.702-6.414 0-12.218-2.158-16.406-5.648-4.188 3.49-9.996 5.648-16.42 5.648-6.092 0-11.644-1.95-15.782-5.134-4.214 3.806-10.29 6.198-17.046 6.198-6.318 0-12.044-2.09-16.204-5.484-1.916 0.348-3.898 0.532-5.928 0.532-15.204 0-27.524-10.17-27.524-22.714 0-12.54 12.318-22.704 27.524-22.704 0.824 0 1.644 0.032 2.46 0.096 1.948-14.914 17.25-26.522 35.836-26.522zM893.172 187.184c5.754 0 11.27 0.788 16.416 2.24a512.766 512.766 0 0 1 64.764 102.39 38.472 38.472 0 0 1-11.632 1.772c-9.024 0-17.18-3.026-23.062-7.938-5.886 4.912-14.046 7.938-23.066 7.938-8.568 0-16.37-2.752-22.178-7.22-5.924 5.348-14.458 8.71-23.946 8.71-8.888 0-16.932-2.932-22.778-7.71a46.082 46.082 0 0 1-8.334 0.756c-21.344 0-38.662-14.29-38.662-31.914s17.318-31.904 38.662-31.904c1.164 0 2.332 0.05 3.464 0.134 2.74-20.948 24.236-37.254 50.352-37.254z"
          fill="#FFFFFF"
          p-id="1958"
        ></path>
        <path
          d="M68.394 767.798c24.206 16.094 54.154 32.448 79.324 35.45 52.02 6.194 156.074-59.3 199.604-62.842 43.53-3.536 167.76 111.516 216.596 92.05 48.84-19.474 161.384-75.232 224.028-84.968 39.6-6.152 91.914 34.37 136.314 68.146a511.61 511.61 0 0 0 63.14-113.244L160.458 643.042c-71.014-5.096-103.302 43.994-120.478 67.618a510.17 510.17 0 0 0 28.414 57.138z"
          fill="#FCCB68"
          p-id="1959"
        ></path>
        <path
          d="M58.424 749.656c30.384 6.33 65.44 5.96 93.2-10.652 43.28-25.888 51.424-28.152 79.494-22.082 131.01 74.198 198.574 49.918 260.448-16.776 10.712-8.288 22.884-14.77 35.98-19.856 13.098 5.086 25.27 11.568 35.98 19.856 61.874 66.694 129.438 90.974 260.454 16.776 28.064-6.07 36.214-3.806 79.488 22.082 18.044 10.798 39.178 14.744 60.11 14.43a509.204 509.204 0 0 0 43.866-111.874l-990.47 1.55a509.1 509.1 0 0 0 41.45 106.546z"
          fill="#FBAD4D"
          p-id="1960"
        ></path>
        <path
          d="M14.732 634.264h994.534c-0.842 3.45-1.718 6.88-2.634 10.302H17.368c-0.916-3.42-1.792-6.852-2.636-10.302z"
          fill="#ED6C00"
          p-id="1961"
        ></path>
        <path
          d="M603.482 371.192s-11.536-2.474-21.192-0.628c-9.68 1.854-19.764 9.882-30.676 10.5-10.908 0.614-8.64-3.504-8.64-3.504s7 1.036 8.856-4.934c1.842-5.97-5.768-10.712-17.49-18.93-11.742-8.232-14.006-16.466-11.742-21.618 0 0 2.066 3.294 11.742 8.442 9.666 5.15 16.66 14.62 24.272 21.394 7.618 6.804 8.034 7.206 15.236 5.772 7.196-1.444 22.634-3.702 29.634 3.506zM679.458 435.09s-11.536-2.474-21.192-0.628c-9.68 1.856-19.764 9.882-30.676 10.504-10.908 0.61-8.64-3.508-8.64-3.508s7 1.04 8.856-4.93c1.846-5.974-5.768-10.716-17.49-18.934-11.742-8.232-14.006-16.466-11.742-21.618 0 0 2.066 3.294 11.742 8.442 9.67 5.15 16.66 14.62 24.272 21.394 7.618 6.804 8.036 7.206 15.236 5.774 7.194-1.444 22.634-3.702 29.634 3.504zM702.474 369.634s-11.536-2.474-21.192-0.628c-9.68 1.854-19.764 9.882-30.676 10.504-10.908 0.61-8.64-3.504-8.64-3.504s7 1.036 8.856-4.934c1.846-5.97-5.768-10.712-17.492-18.934-11.742-8.232-14.004-16.466-11.742-21.618 0 0 2.066 3.298 11.742 8.442 9.67 5.15 16.662 14.62 24.272 21.398 7.618 6.8 8.036 7.206 15.238 5.768 7.196-1.444 22.634-3.702 29.634 3.506z"
          fill=""
          p-id="1962"
        ></path>
      </svg>
      <div class="head-title">Sign in to Vue</div>
    </div>
    <div class="form">
      <div class="form-layout">
        <div class="form-msg">Username or email address</div>
        <div>
          <el-input size="small" v-model="username" />
        </div>
        <div class="pass-msg">
          <span>Password</span>
          <a href="https://github.com/password_reset">Forgot password?</a>
        </div>
        <el-input
          size="small"
          show-password
          v-model="password"
          class="self-input"
        />
        <div>
          <el-button @click="login" size="small">{{$t('message.login')}}</el-button
          >{{ loginData.token }}
        </div>
      </div>
    </div>
    <div class="help">
      <div class="help-conent">
        New to GitHub?
        <a href="https://github.com/signup?source=login">Create an account.</a>
      </div>
    </div>
    <div class="foot">
      <div class="foot-content">
        <a href="https://github.com/site/terms">Terms</a>
        <a href="https://github.com/site/privacy">Privacy</a>
        <a href="https://docs.github.com/articles/github-security/">Security</a>
        <span>Contact Vue</span>
      </div>
    </div>
  </div>
</template>
<script>
import {loginService} from "@/service/login"
import axios from "axios";
import ShareStore from "@/store/index.js";
export default {
  name: "Login",
  data: function () {
    return {
      username: "",
      password: "",
      loginData: ShareStore,
    };
  },
  mounted() {},
  methods: {
    async login() {
      // TODO: 用户信息验证
      // 网络请求拿到的
      const pathParams = 1;
      
      // 1.url里面有路径参数
      // 2.config对象中依次为
      // 2.1 params 查询参数
      // 2.2 headers 配置我们的请求头部
      // 2.3 data 部分配置我们的请求体
      // const res = await http.post(`/pet/${pathParams}`, {
      //   params: {
      //     name: 'pjw',
      //     password: 123456
      //   },
      //   data: {
      //     body: '我很庞大'
      //   }
      // });
      const res = await loginService(this.username,this.password)
      console.log(res)
      if (!res.data.success) {
        this.$notify({
          title: "提示",
          message: "登录失败!",
          duration: 0,
        });
        return;
      }
      this.loginData.setAction("token", res.data.code);
      // const token = 'QAZ@WSXEDCV%TGuikfijedhngiks'
      // // 放入sessionStorage
      // sessionStorage.setItem('token', token)
      // this.$notify({
      //   title: "成功",
      //   message: "您已成功登录，已成功为您跳转至控制台",
      //   type: "success",
      // });
      // // TODO: 跳转路由 一定要记住$router
      this.$router.push("/home");
    },
  },
};
</script>
<style scoped>
* {
  padding: 0;
  margin: 0;
}
html,
body,
.container {
  height: 100%;
  width: 100%;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial,
    sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
}
.head,
.form,
.help,
.foot {
  display: flex;
}
.head {
  flex-direction: column;
  align-items: center;
  padding-top: 32px;
  padding-bottom: 24px;
}
.help {
  justify-content: center;
}
.help-conent {
  width: 308px;
  border: 1px solid #afb8c1;
  padding: 16px;
  margin: 16px 0;
  border-radius: 6px;
  font-size: 14px;
  text-align: center;
}
.foot {
  display: flex;
  justify-content: center;
}
.foot-content {
  width: 308px;
  display: flex;
  justify-content: space-around;
  font-size: 12px;
}
.form {
  display: flex;
  justify-content: center;
  font-size: 14px;
}
.form-layout {
  padding: 16px;
  width: 308px;
  border: 1px solid #afb8c1;
  border-radius: 6px;
  background-color: #f6f8fa;
}
.form-msg {
  margin-bottom: 8px;
}
.pass-msg {
  margin-top: 16px;
  margin-bottom: 8px;
  display: flex;
  justify-content: space-between;
}
.head-title {
  font-weight: 300;
  padding-top: 24px;
  font-size: 24px;
  letter-spacing: -0.5px;
}
.el-button {
  margin-top: 10px !important;
}
</style>